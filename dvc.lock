schema: '2.0'
stages:
  predict_model:
    cmd: python src\models\predict_model.py --config=params.yaml
    deps:
    - path: data\processed\test_stroke_data.csv
      md5: c05ca6ad2b1d0f904139ddf633a331ee
      size: 101426
    - path: src\models\predict_model.py
      md5: 4a77cb882eefc1fc23e0197f606b2551
      size: 1686
    outs:
    - path: reports\scores.json
      md5: 9751f6fb225ef264b7e3eea77350391c
      size: 129
  split_data:
    cmd: python src/data/make_dataset.py --config=params.yaml
    deps:
    - path: data/interim/cat-stroke-data.csv
      md5: afe266146e8cf1af719cd9e42c0bd569
      size: 179184
    - path: src/data/make_dataset.py
      md5: c94b9f0260acd85096a634c11a5e515d
      size: 2219
    outs:
    - path: data/processed/test_stroke_data.csv
      md5: 9eec5583753a51c1834d00d2c517afb5
      size: 53870
    - path: data/processed/train_stroke_data.csv
      md5: 3c647e9fc6e71444fbcfe0d9bb670ff4
      size: 125455
  train_model:
    cmd: python src\models\train_model.py --config=params.yaml
    deps:
    - path: data\processed\train_stroke_data.csv
      md5: 3306c673ba2fed819674cb7ca0a83574
      size: 236229
    - path: src\models\train_model.py
      md5: 0f522035e3c52e8bdf9de6041db8f173
      size: 1447
    params:
      params.yaml:
        estimators.n_estimators: 25
    outs:
    - path: models\model.joblib
      md5: 0c5ed9cbc21d4eec0681311bc3cb524d
      size: 236304
    - path: reports\params.json
      md5: d647a4edb23d44df34729b82eafeb128
      size: 28
  train_n_evaluate:
    cmd:
    - python src/models/train_model.py --config=params.yaml
    - python src/models/predict_model.py --config=params.yaml
    deps:
    - path: data/processed/test_stroke_data.csv
      md5: c6d17b835beb4242fc0d450313b26df9
      size: 92562
    - path: data/processed/train_stroke_data.csv
      md5: c43464633c23e3683431102a0430045f
      size: 215519
    - path: src/models/predict_model.py
      md5: 4a77cb882eefc1fc23e0197f606b2551
      size: 1626
    - path: src/models/train_model.py
      md5: 0f522035e3c52e8bdf9de6041db8f173
      size: 1390
    params:
      params.yaml:
        estimators.n_estimators: 100
    outs:
    - path: models/model.joblib
      md5: 7a18243c7969a5288b3c12e3594b4f8a
      size: 3604015
    - path: reports/params.json
      md5: e2b2851498b28933da31564479185b5e
      size: 27
    - path: reports/scores.json
      md5: 2291e20c2997f29075e8dc37653a7dd0
      size: 94
  start_app:
    cmd: python app.py
